<?xml version="1.0" encoding="utf-8"?>
<Window>
	<Form Height="328" Id="OBMZ190_POP" Left="8" OnFocus="menu_OnFocus" OnLoadCompleted="on_LoadCompleted" PidAttrib="7" Title="생산라인입력" ToolTipFont="Default,0" Top="8" Ver="1.0" Width="464" WorkArea="true">
		<Datasets>
			<Dataset DataSetType="Dataset" Id="ds_LINCD_X">
				<Contents>
					<colinfo id="CD" size="256" summ="default" type="STRING"/>
					<colinfo id="CDNM" size="256" summ="default" type="STRING"/>
					<colinfo id="CDNM2" size="256" summ="default" type="STRING"/>
				</Contents>
			</Dataset>
		</Datasets>
		<Image FillType="STRETCH" Font="돋움,9,Bold" Height="28" Id="titleBar" ImageID="main_tit_bak" Left="-2" TabOrder="0" TabStop="FALSE" Width="466"></Image>
		<Static Color="#333333" Font="돋움,9,Bold" Height="16" Id="title_text" Left="16" TabOrder="0" Text="생산라인입력" Top="8" Width="416"></Static>
		<Static BKColor="white" Border="Flat" BorderColor="#b4b4b4" Height="29" Id="searchBar" Left="1" TabOrder="4" Top="30" Width="463"></Static>
		<Button Height="26" Id="btn_CLOSE" ImageID="closeBtn" Left="376" OnClick="btn_CLOSE_OnClick" TabOrder="0" Text="닫기" Top="32" Width="75"></Button>
		<Button Height="26" Id="btn_SELECT" ImageID="btn2_sele2" Left="296" OnClick="btn_SELECT_OnClick" TabOrder="5" Text="닫기" Top="32" Width="75"></Button>
		<Static Align="Center" BKColor="#dfdfdf" Border="Flat" BorderColor="#b4b4b4" Font="굴림,9,Bold" Height="26" Id="Static7" Left="8" TabOrder="6" Text="생산라인" Top="64" VAlign="Middle" Width="116"></Static>
		<Static Align="Center" Border="Flat" BorderColor="#b4b4b4" Font="굴림,9,Bold" Height="26" Id="Static0" Left="124" TabOrder="8" Top="96" VAlign="Middle" Width="324"></Static>
		<Static Align="Center" BKColor="#dfdfdf" Border="Flat" BorderColor="#b4b4b4" Font="굴림,9,Bold" Height="26" Id="Static1" Left="8" TabOrder="7" Text="텍스트" Top="96" VAlign="Middle" Width="116"></Static>
		<Edit AutoSelect="TRUE" AutoSkip="TRUE" CheckLength="Byte" Height="20" Id="ed_OTEXT" ImeMode="none" Left="126" TabOrder="9" Top="99" Width="314"></Edit>
		<Static Align="Center" Border="Flat" BorderColor="#b4b4b4" Font="굴림,9,Bold" Height="26" Id="Static2" Left="124" TabOrder="11" Top="128" VAlign="Middle" Width="96"></Static>
		<Static Align="Center" BKColor="#dfdfdf" Border="Flat" BorderColor="#b4b4b4" Font="굴림,9,Bold" Height="26" Id="Static3" Left="8" TabOrder="10" Text="글꼴종류" Top="128" VAlign="Middle" Width="116"></Static>
		<Edit AutoSelect="TRUE" AutoSkip="TRUE" CheckLength="Byte" Enable="FALSE" Height="20" Id="Edit1" ImeMode="none" Left="126" TabOrder="12" Top="131" UpperOnly="TRUE" Width="88"></Edit>
		<Static Align="Center" Border="Flat" BorderColor="#b4b4b4" Font="굴림,9,Bold" Height="26" Id="Static4" Left="124" TabOrder="14" Top="160" VAlign="Middle" Width="96"></Static>
		<Static Align="Center" BKColor="#dfdfdf" Border="Flat" BorderColor="#b4b4b4" Font="굴림,9,Bold" Height="26" Id="Static5" Left="8" TabOrder="13" Text="글꼴크기" Top="160" VAlign="Middle" Width="116"></Static>
		<Edit AutoSelect="TRUE" AutoSkip="TRUE" CheckLength="Byte" Height="20" Id="ed_FSIZE" ImeMode="none" Left="126" Number="TRUE" TabOrder="15" Top="163" UpperOnly="TRUE" Width="88"></Edit>
		<Static Align="Center" Border="Flat" BorderColor="#b4b4b4" Font="굴림,9,Bold" Height="26" Id="Static8" Left="124" TabOrder="17" Top="192" VAlign="Middle" Width="96"></Static>
		<Static Align="Center" BKColor="#dfdfdf" Border="Flat" BorderColor="#b4b4b4" Font="굴림,9,Bold" Height="26" Id="Static9" Left="8" TabOrder="16" Text="X&#32;위치" Top="192" VAlign="Middle" Width="116"></Static>
		<Edit AutoSelect="TRUE" AutoSkip="TRUE" CheckLength="Byte" Height="20" Id="ed_POS_X" ImeMode="none" Left="126" Number="TRUE" TabOrder="18" Top="195" UpperOnly="TRUE" Width="88"></Edit>
		<Static Align="Center" Border="Flat" BorderColor="#b4b4b4" Font="굴림,9,Bold" Height="26" Id="Static10" Left="348" TabOrder="20" Top="192" VAlign="Middle" Width="96"></Static>
		<Static Align="Center" BKColor="#dfdfdf" Border="Flat" BorderColor="#b4b4b4" Font="굴림,9,Bold" Height="26" Id="Static11" Left="232" TabOrder="19" Text="Y&#32;위치" Top="192" VAlign="Middle" Width="116"></Static>
		<Edit AutoSelect="TRUE" AutoSkip="TRUE" CheckLength="Byte" Height="20" Id="ed_POS_Y" ImeMode="none" Left="350" Number="TRUE" TabOrder="21" Top="195" UpperOnly="TRUE" Width="88"></Edit>
		<Static Align="Center" Border="Flat" BorderColor="#b4b4b4" Font="굴림,9,Bold" Height="26" Id="Static12" Left="124" TabOrder="23" Top="224" VAlign="Middle" Width="96"></Static>
		<Static Align="Center" BKColor="#dfdfdf" Border="Flat" BorderColor="#b4b4b4" Font="굴림,9,Bold" Height="26" Id="Static13" Left="8" TabOrder="22" Text="WIDTH&#32;크기" Top="224" VAlign="Middle" Width="116"></Static>
		<Edit AutoSelect="TRUE" AutoSkip="TRUE" CheckLength="Byte" Height="20" Id="ed_OWIDTH" ImeMode="none" Left="126" Number="TRUE" TabOrder="24" Top="227" UpperOnly="TRUE" Width="88"></Edit>
		<Static Align="Center" Border="Flat" BorderColor="#b4b4b4" Font="굴림,9,Bold" Height="26" Id="Static14" Left="348" TabOrder="26" Top="224" VAlign="Middle" Width="96"></Static>
		<Static Align="Center" BKColor="#dfdfdf" Border="Flat" BorderColor="#b4b4b4" Font="굴림,9,Bold" Height="26" Id="Static15" Left="232" TabOrder="25" Text="HEIGHT&#32;크기" Top="224" VAlign="Middle" Width="116"></Static>
		<Edit AutoSelect="TRUE" AutoSkip="TRUE" CheckLength="Byte" Height="20" Id="ed_OHEIGHT" ImeMode="none" Left="350" Number="TRUE" TabOrder="27" Top="227" UpperOnly="TRUE" Width="88"></Edit>
		<Static Align="Center" Border="Flat" BorderColor="#b4b4b4" Font="굴림,9,Bold" Height="26" Id="Static18" Left="124" TabOrder="29" Top="256" VAlign="Middle" Width="96"></Static>
		<Static Align="Center" BKColor="#dfdfdf" Border="Flat" BorderColor="#b4b4b4" Font="굴림,9,Bold" Height="26" Id="Static19" Left="8" TabOrder="28" Text="선&#32;굵기" Top="256" VAlign="Middle" Width="116"></Static>
		<Edit AutoSelect="TRUE" AutoSkip="TRUE" CheckLength="Byte" Enable="FALSE" Height="20" Id="Edit8" ImeMode="none" Left="126" Number="TRUE" TabOrder="30" Top="259" UpperOnly="TRUE" Width="88"></Edit>
		<Static Align="Center" BKColor="#dfdfdf" Border="Flat" BorderColor="#b4b4b4" Font="굴림,9,Bold" Height="26" Id="Static21" Left="8" TabOrder="31" Text="시간표시" Top="288" VAlign="Middle" Width="116"></Static>
		<Static Align="Center" Border="Flat" BorderColor="#b4b4b4" Font="굴림,9,Bold" Height="26" Id="Static6" Left="123" TabOrder="33" Top="64" VAlign="Middle" Width="208"></Static>
		<Radio Height="27" Id="rdoggub_TMPOS" INDEX="-1" Left="124" OnChanged="rdoggub_TYPE_OnChanged" TabOrder="34" Top="288" Width="172">
			<Contents>
				<Layout code="H" height="15" left="10" text="가로표시" top="5" width="70"/>
				<Layout code="V" height="15" left="85" text="세로표시" top="5" width="70"/>
			</Contents>
		</Radio>
		<Combo CodeColumn="CD" DataColumn="CDNM2" Editable="TRUE" Height="19" Id="cmb_LINCD" ImeMode="none" INDEX="0" InnerDataset="ds_LINCD" Left="127" Search="FILTERED" TabOrder="32" Top="68" Width="200"></Combo>
		<Static Align="Center" Border="Flat" BorderColor="#b4b4b4" Font="굴림,9,Bold" Height="26" Id="Static16" Left="348" TabOrder="36" Top="256" VAlign="Middle" Visible="FALSE" Width="96"></Static>
		<Static Align="Center" BKColor="#dfdfdf" Border="Flat" BorderColor="#b4b4b4" Font="굴림,9,Bold" Height="26" Id="Static17" Left="232" TabOrder="35" Text="설총률&#32;기준값" Top="256" VAlign="Middle" Visible="FALSE" Width="116"></Static>
		<Edit Align="RIGHT" AutoSelect="TRUE" AutoSkip="TRUE" CheckLength="Byte" Height="20" Id="ed_BIGO1" ImeMode="none" Left="350" MaxLength="3" Number="TRUE" TabOrder="37" Top="259" UpperOnly="TRUE" Visible="FALSE" Width="88"></Edit>
	</Form>
	<Script><![CDATA[/*--------------------------------------------------------------
 * @@version               : 1.0 
 * @@Revision History      :
 * @@author                : Jae hb
 * @@see
 * ● SYSTEM NAME          : DIONE
 * ● PROGRAM NO.          : OBMZ180_POP1.xml
 * ● PROGRAM DESCRIPTION  : 전라인가동현황-공장레이아웃설정(생산라인입력)
 * ● DATE WRITTEN         : 2017.04.19
 ----------------------------------------------------------------*/
#include "script::lib_script_common.js";
#include "script::Grid_Script.js";
#include "script::spare_common.js";

var strSeparator = "	";
var Lib1 = G_ds_user.GetColumn(0,"LIB1"); // cigma library(pereslib,psreslib)
var Lib2 = G_ds_user.GetColumn(0,"LIB2"); // 회사 library(psedblib,pscdblib)
var Lib3 = G_ds_user.GetColumn(0,"LIB3"); // 사업부 library(psedblib,pscdblib,pshdblib,pssdblib)
var company = G_ds_user.GetColumn(0,"COMPANY");
var comps = G_ds_user.GetColumn(0,"PLANT_CD");

function on_LoadCompleted(obj){
	//getTitle();
	//getLINCD(); //메인에서처리
	setData();
	
}
/********************************************************************** 
 * 내용설명 : 라인코드 조회
 **********************************************************************/ 
function getLINCD(){
	var sKind		= "getLINCD";						
	var sMethodName = "service::psogmlib/selectMSTCODE.do";     // 서버에서 호출 될 Method 명
	var sInDataSet  = "";                            			// 자료 저장 시 보낼 DataSet 명칭
	var sOutDataSet = "ds_LINCD=ds_MSTCODE";    				// 조회 후 돌려 받을 DataSet 명칭
	var sArgument   = "";
		sArgument += " LIB2=" + quote(Lib2);
		sArgument += " COMPS=" + quote(ComboBoxPlant.Value); //코드
		sArgument += " SQLID=" + "selectMSTLINCD";
	http.Sync=true;
	Transaction(sKind, sMethodName, sInDataSet, sOutDataSet, sArgument, "");
	http.Sync = false;
}

function setData(){
	var getObjType="";
	if(doAction="new"){
		ed_OTEXT.Text = "";
		ed_FSIZE.Text = p_FSIZE;
		ed_POS_X.Text = p_POSX;
		ed_POS_Y.Text = p_POSY;
		ed_OWIDTH.Text = p_WIDTH;
		ed_OHEIGHT.Text = p_HEIGHT;
		rdoggub_TMPOS.Value = p_TMPOS;
		getObjType=Div1.rdoggub_TYPE.Value; //오브젝트 타입
		ed_BIGO1.Text=p_BIGO1; //설총률 기본값
		
	}else{
		cmb_LINCD.Value = ds_OBMZ180.GetColumn(p_Row, "LINCD");
		ed_OTEXT.Text = ds_OBMZ180.GetColumn(p_Row, "OTEXT");
		ed_FSIZE.Text = ds_OBMZ180.GetColumn(p_Row, "FSIZE");
		ed_POS_X.Text = ds_OBMZ180.GetColumn(p_Row, "POS_X");
		ed_POS_Y.Text = ds_OBMZ180.GetColumn(p_Row, "POS_Y");
		ed_OWIDTH.Text = ds_OBMZ180.GetColumn(p_Row, "OWIDTH");
		ed_OHEIGHT.Text =ds_OBMZ180.GetColumn(p_Row, "OHEIGHT");
		rdoggub_TMPOS.Value = ds_OBMZ180.GetColumn(p_Row, "TMPOS");
		getObjType=ds_OBMZ180.GetColumn(p_Row, "OTYPE");
		ed_BIGO1.Text=ds_OBMZ180.GetColumn(p_Row, "BIGO1");; //설총률 기본값

	}
	//trace(getObjType);
	if(getObjType="T"){
		cmb_LINCD.Value="";
		cmb_LINCD.Enable=false;
		rdoggub_TMPOS.Value="";
		rdoggub_TMPOS.Enable=false;
		title_text.Text ="텍스트 입력";
	}else if(getObjType="I"){
		ed_OTEXT.Enable=false;
		ed_FSIZE.Enable=false;
		ed_OWIDTH.Enable=false;
		ed_OHEIGHT.Enable=false;
		rdoggub_TMPOS.Value="";
		rdoggub_TMPOS.Enable=false;
		Static17.Visible=true;
		Static16.Visible=true;
		ed_BIGO1.Visible=true;
		title_text.Text ="설총률 입력";
	}
	
}

function btn_SELECT_OnClick(obj)
{
//0값체크로직 필요

	var arrReturn  =  Array();
		arrReturn[0]  = cmb_LINCD.Value;//라인코드
		arrReturn[1]  = ed_OTEXT.Text;		//라인명
		arrReturn[2]  = ed_FSIZE.Text;		//폰트사이즈
		arrReturn[3]  = ed_OWIDTH.Text;	//Width
		arrReturn[4]  = ed_OHEIGHT.Text;	//height
		arrReturn[5]  = ed_POS_X.Text;	//X좌표
		arrReturn[6]  = ed_POS_Y.Text;	//Y좌표
		arrReturn[7]  = rdoggub_TMPOS.Value;	//폰트사이즈(가로:H, 세로:V)
		arrReturn[8]  = ed_BIGO1.Text;	//설총률 기본값
	close(arrReturn);
}

function btn_CLOSE_OnClick(obj)
{
	Close();
	
}
]]></Script>
</Window>